{% extends "base.html" %}

<!-- Title -->
{% block title %}Profil{% endblock %}

<!-- Nav -->
{% block profil %}class="active"{% endblock %}
{% block profil.m %}class="active"{% endblock %}

<!-- Content -->
{% block content %}
<div class="container">

  <!--
    _   _             _             _   _
   | \ | |           (_)           | | (_)
   |  \| | __ ___   ___  __ _  __ _| |_ _  ___  _ __
   | . ` |/ _` \ \ / / |/ _` |/ _` | __| |/ _ \| '_ \
   | |\  | (_| |\ V /| | (_| | (_| | |_| | (_) | | | |
   |_| \_|\__,_| \_/ |_|\__, |\__,_|\__|_|\___/|_| |_|
                         __/ |
                        |___/
  -->

  <ul class="nav nav-pills">
    <li class="active"><a data-toggle="tab" href="#info">
      <i class="fa fa-info-circle fa-lg"></i> <span class="hidden-xs">Informations</span>
    </a></li>
    <li><a data-toggle="tab" href="#rank">
      <i class="fa fa-trophy fa-lg"></i> <span class="hidden-xs">My ranks</span>
    </a></li>
    <li><a data-toggle="tab" href="#settings">
      <i class="fa fa-cog fa-lg"></i> <span class="hidden-xs">Settings</span>
    </a></li>
    <!-- TODO : add this when we use the add streamer request
    <li><a data-toggle="tab" href="#request">
      <i class="fa fa-plus-circle fa-lg"></i> <span class="hidden-xs">Requests</span>
    </a></li>-->
  </ul>

  <!-- Content -->
  <div class="content-box tab-content">

    <!--
      _____        __                           _   _
     |_   _|      / _|                         | | (_)
       | |  _ __ | |_ ___  _ __ _ __ ___   __ _| |_ _  ___  _ __  ___
       | | | '_ \|  _/ _ \| '__| '_ ` _ \ / _` | __| |/ _ \| '_ \/ __|
      _| |_| | | | || (_) | |  | | | | | | (_| | |_| | (_) | | | \__ \
     |_____|_| |_|_| \___/|_|  |_| |_| |_|\__,_|\__|_|\___/|_| |_|___/

    -->

    <!-- General informations -->
    <div class="tab-pane in active" id="info">
      <h3><i class="fa fa-info-circle gold"></i> <span class="gold">General</span> informations</h3>
      <hr>

      <!-- Account Informations -->
      <div class="panel">
        <div class="panel-heading">
          <i class="fa fa-user"></i> Account informations
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-6">

              <!-- Email INFO -->
              <div class="form-group" id="infoMail">
                <!-- Label & Edit mail -->
                <label style="width:100%;"><i class="fa fa-envelope gold"></i> Email
                  <a class="pull-right" role="button" href="javascript:void(0)" onclick="edit('inputMail','infoMail')">
                    <i class="fa fa-pencil-square-o fa-lg"></i>
                  </a>
                </label>
                <!-- info-->
                <p class="info">{{ user.email }}</p>
              </div>

              <!-- Email EDIT -->
              <form data-toggle="validator" role="form" onsubmit="return false;" id="inputMail" style="display:none">
                <div class="form-group">
                  <!-- Label & Cancel mail -->
                  <label style="width:100%;" for="inputEmail" class="control-label"><i class="fa fa-envelope gold"></i> Email
                    <a class="pull-right" role="button" href="javascript:void(0)" onclick="cancel('infoMail','inputMail')">
                      <i class="fa fa-undo fa-lg"></i>
                    </a>
                  </label>
                  <!-- Input email -->
                  <input class="form-control" data-error="Enter a valid email address." type="email" name="email" id="inputEmail" placeholder="example@email.com" value="{{ user.email }}" required>
                  <!-- Error field -->
                  <div class="help-block with-errors"></div>
                  <button type="submit" class="btn btn-primary center-block"><i class="fa fa-pencil"></i> Edit</button>
                </div>

              </form>

              <!-- Birth date INFO -->
              <div class="form-group" id="infoBirthdate">
                <!-- Label & Edit birth date -->
                <label style="width:100%;"><i class="fa fa-calendar gold"></i> Birth date
                  <a class="pull-right" role="button" href="javascript:void(0)" onclick="edit('inputBirthdate','infoBirthdate')">
                    <i class="fa fa-pencil-square-o fa-lg"></i>
                  </a>
                </label>
                <!-- TODO : good format -->
                <p class="info">{{ user.birth_date }}</p>
              </div>

              <!-- Birth date EDIT -->
              <form data-toggle="validator" role="form" onsubmit="return false;" id="inputBirthdate" style="display:none">
                <!-- Verify Age -->
                <div class="form-group">
                  <label style="width:100%" class="control-label"><i class="fa fa-calendar gold"></i> Birth date
                    <a class="pull-right" role="button" href="javascript:void(0)" onclick="cancel('infoBirthdate','inputBirthdate')">
                      <i class="fa fa-undo fa-lg"></i>
                    </a>
                  </label>
                  <div class="row center-block" style="margin:0">
                    <!-- Day -->
                    <!-- TODO : only day -->
                    <div class="form-group col-xs-3" style="padding:0;margin:0;">
                      <input type="number" name="day" data-error="Invalid day" min="1" max="31" class="form-control text-center" id="inputDay" placeholder="dd" style="padding:0" value="{{ user.birth_date }}" required>
                      <div class="help-block with-errors"></div>
                    </div>

                    <div class="col-xs-1 date-slash">/</div>

                    <!-- Month -->
                    <!-- TODO : only month -->
                    <div class="form-group col-xs-3" style="padding:0;margin:0;">
                      <input  type="number" name="month" data-error="Invalid month" min="1" max="12" class="form-control text-center" id="inputMonth" placeholder="mm"  style="padding:0" value="{{ user.birth_date }}" required>
                      <div class="help-block with-errors"></div>
                    </div>

                    <div class="col-xs-1 date-slash">/</div>

                    <!-- Year -->
                    <!-- TODO : only year -->
                    <div class="form-group col-xs-4" style="padding:0;margin:0;">
                      <input type="number" name="year" data-error="Invalid year" min="1900" max="2015" class="form-control text-center" id="inputYear" placeholder="yyyy"  style="padding:0" value="{{ user.birth_date }}" required>
                      <div class="help-block with-errors"></div>
                    </div>

                    <!-- Set min and max year -->
                    <script>
                    var year = new Date().getFullYear();
                    document.getElementById("inputYear").setAttribute("min", year-100 )
                    document.getElementById("inputYear").setAttribute("max", year-1 )
                    </script>
                  </div><!-- Row -->
                  <button type="submit" class="btn btn-primary center-block"><i class="fa fa-pencil"></i> Edit</button>
                </div><!-- Form Group -->
              </form>

              <!-- Elo -->
              <div class="form-group">
                <label><i class="fa fa-trophy gold"></i>  General elo</label>
                <p class="info">{{ user.elo }}</p>
              </div>

            </div><!-- col -->

            <div class="col-sm-6">

              <!-- Name -->
              <div class="form-group">
                <label><i class="fa fa-user gold"></i>  Name</label>
                <p class="info">{{ user.name }}</p>
              </div>
              <!-- Password -->
              <div class="form-group" id="infoPassword">
                <label style="width:100%;"><i class="fa fa-lock gold"></i> Password <a href="javascript:void(0)" class="pull-right" onclick="edit('inputPass','infoPassword')"><i class="fa fa-pencil-square-o fa-lg"></i></a></label>
                <p class="info">******</p>
              </div>

              <!-- Edit Password -->
              <form data-toggle="validator" role="form" onsubmit="return false;" id="inputPass" style="display:none">
                <!-- Password -->
                <div class="form-group">
                  <label style="width:100%" for="inputPassword" class="control-label"><i class="fa fa-lock gold"></i> Password <a href="javascript:void(0)" class="pull-right" onclick="cancel('infoPassword','inputPass')"><i class="fa fa-undo fa-lg"></i></a></label>
                  <input type="password" name="password" data-error="Minimum of 3 characters" data-minlength="3" class="form-control" id="inputPassword" placeholder="New password" required>
                  <div class="help-block with-errors"></div>
                </div>

                <!-- Confirm Password -->
                <div class="form-group">
                  <label for="inputPassword2" class="control-label"><i class="fa fa-lock gold"></i> Confirm password</label>
                  <input type="password" name="confirm" data-error="Passwords doesn't match" data-match="#inputPassword" class="form-control" id="inputPassword2" placeholder="Confirm" required>
                  <div class="help-block with-errors"></div>
                </div>

                <button type="submit" class="btn btn-primary center-block"><i class="fa fa-pencil"></i> Edit</button>
              </form>

            </div><!-- col -->
          </div><!-- Row -->
          <!--<button class="btn btn-primary center-block"><i class="fa fa-pencil"></i> Edit</button>-->
        </div>
      </div>

      <!-- Statictics -->
      <div class="panel">
        <div class="panel-heading">
          <i class="fa fa-line-chart"></i> Statistics
        </div>
        <div class="panel-body">
          Coming Soon ...
        </div>

      </div>

      <!-- Bet history -->
      <div class="panel">
        <div class="panel-heading">
          <i class="fa fa-list"></i> Bet history
        </div>
        <div class="panel-body">
          Coming Soon ...
        </div>

      </div>

    </div>

    <!--
      _____             _
     |  __ \           | |
     | |__) |__ _ _ __ | | __
     |  _  // _` | '_ \| |/ /
     | | \ \ (_| | | | |   <
     |_|  \_\__,_|_| |_|_|\_\

    -->

    <!-- My Ranking -->
    <div class="tab-pane" id="rank">
      <h3><i class="fa fa-trophy gold"></i> <span class="gold">My</span> ranks</h3>
      <hr>
      <!-- Ranks -->
      <div class="row">
        <!-- General rank -->
        <div class="col-sm-6 text-center">
          <h4 class="underline"><i class="fa fa-star gold"></i> General rank <i class="fa fa-star gold"></i></h4>
          <p style="padding-left:15px;">
            {{ user.elo }}
            <img src="img/rank/{{user.division()}}.png" width="30" alt="rank">
          </p>
        </div>
        <!-- Max rank -->
        <div class="col-sm-6 text-center">
          <h4 class="underline"><i class="fa fa-star gold"></i> Max rank <i class="fa fa-star gold"></i></h4>
          <p style="padding-left:15px;">
            {{ user.elo }}
            <img src="img/rank/{{user.division()}}.png" width="30" alt="rank">
          </p>
        </div>
      </div>

      <!-- Stream ranks -->
      <h4 class="text-center underline"><i class="fa fa-star gold"></i> Stream rank <i class="fa fa-star gold"></i></h4>
      <div class="block-grid-lg-3 block-grid-sm-2 block-grid-xs-1" style="margin-top:15px;">
        {% for streamer in streamer_list %}
        <div class="block-grid-item" style="padding-top:0;">
           <p class="text-center" style="width:100%;padding:0;">
            <a href="stream/{{streamer.channel_name}}">{{ streamer.name }} </a>
            <i class="fa fa-caret-right gold"></i>
            {{ user.elo }}
            <img src="img/rank/{{user.division()}}.png" width="30" alt="rank">
          </p>
        </div>
        {% endfor %}
      </div>
    </div>

    <!--
       _____      _   _   _
      / ____|    | | | | (_)
     | (___   ___| |_| |_ _ _ __   __ _ ___
      \___ \ / _ \ __| __| | '_ \ / _` / __|
      ____) |  __/ |_| |_| | | | | (_| \__ \
     |_____/ \___|\__|\__|_|_| |_|\__, |___/
                                   __/ |
                                  |___/
    -->

    <!-- Settings -->
    <div class="tab-pane" id="settings">
      <h3><i class="fa fa-cog gold"></i> <span class="gold">Set</span>tings</h3>
      <hr>
      todo
    </div>


  <!-- TODO check old profil.html for the request part and the modal part -->

  </div><!-- Content box -->


</div>
{% endblock %}

<!--
      _  _____
     | |/ ____|
     | | (___
 _   | |\___ \
| |__| |____) |
 \____/|_____/


-->

{% block JS %}
<!-- Edit account -->
<script src="js/edit_account.js"></script>
<!-- Add Streamer js TODO add this when we use the add streamer
<script src="js/add_streamer.js"></script>
-->
{% endblock %}
